var H=Object.defineProperty;var h=(a,t,r)=>t in a?H(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r;var c=(a,t,r)=>h(a,typeof t!="symbol"?t+"":t,r);import{a as _,b as f,d as l,r as o,c as d,e as p,t as i,u,o as x,f as E}from"./index-CZPeFSnS.js";class m{constructor(t){c(this,"name","");c(this,"attack",0);c(this,"maxHp",0);c(this,"currentHp",0);c(this,"maxMp",0);c(this,"currentMp",0);c(this,"currentExp",0);c(this,"maxExp",0);this.name=t}updateHp(t){this.currentHp-=t,this.currentHp=this.currentHp>0?this.currentHp:0}updateExp(t){this.currentExp+=t,this.currentExp=Math.min(this.maxExp,this.currentExp)}}function k(a,t=1e3){let r=0,n=0;const e=s=>{s-n>=t&&(a(),n=s),r=requestAnimationFrame(e)};_(()=>{n=performance.now(),r=requestAnimationFrame(e)}),f(()=>{cancelAnimationFrame(r)})}const M={class:"game_container"},v={class:"green"},F={class:"red"},B=l({__name:"Combat",setup(a){let t=new m("小白"),r=new m("亚古兽"),n=o(t),e=o(r);_(()=>{s()});const s=()=>{n.attack=3,n.currentHp=10,n.maxHp=10,n.maxMp=10,n.currentMp=10,n.maxExp=100,e.attack=2,e.currentHp=10,e.maxHp=10,e.maxMp=10,e.currentMp=10,e.maxExp=100};return k(()=>{if(!n.currentHp||!e.currentHp){console.log("战斗胜利"),s();return}console.log("战斗开始"),n.currentHp>0&&(e==null||e.updateHp(n.attack)),e.currentHp>0&&(n==null||n.updateHp(e==null?void 0:e.attack))}),(C,V)=>(x(),d("div",M,[p("div",v,i(u(n).currentHp),1),p("div",F,i(u(e).currentHp),1)]))}}),g={class:"main_page"},N=l({__name:"CultivationView",setup(a){return(t,r)=>(x(),d("div",g,[E(B)]))}});export{N as default};
